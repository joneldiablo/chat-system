'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_knex=require('knex'),_knex2=_interopRequireDefault(_knex),_config=require('../../config');function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var DbKnex=function(){function a(b){_classCallCheck(this,a),this._knex=(0,_knex2.default)(b)}/**
   * 
   */return _createClass(a,[{key:'log',value:function b(){var a=this._knex;console.log('- '+_config.db.database+' db: Query log enabled'),a.on('query',function(a){console.log('======== on query ==========');var b=0,c=a.sql.replace(/\?/g,function(){return'"'+a.bindings[b++]+'"'});console.log(c),console.log('==================')})}/**
   * 
   */},{key:'knex',get:function a(){return this._knex}}]),a}(),dbKnex=new DbKnex({client:'mysql',connection:_config.db});_config.queryLog&&dbKnex.log(),exports.default=dbKnex.knex,module.exports=exports.default,module.exports.default=exports.default;
//# sourceMappingURL=index.js.map