{"version":3,"sources":["../../../src/api/models/user-model.js"],"names":["UserModel","AccessUserModel","relationMappings","sessions","relation","Model","HasManyRelation","modelClass","AccessSessionModel","join","from","tableName","to","roles","ManyToManyRelation","AccessRoleModel","through","AccessRelUserRoleModel"],"mappings":"+wCAQqBA,U,2NACnB;;qBAG8B,CAC5B,mBACKC,wBAAgBC,gBADrB,EAEEC,SAAU,CACRC,SAAUC,oBAAMC,eADR,CAERC,WAAYC,0BAFJ,CAGRC,KAAM,CACJC,KAAMT,wBAAgBU,SAAhB,CAA4B,KAD9B,CAEJC,GAAIJ,2BAAmBG,SAAnB,CAA+B,SAF/B,CAHE,CAFZ,CAUEE,MAAO,CACLT,SAAUC,oBAAMS,kBADX,CAELP,WAAYQ,uBAFP,CAGLN,KAAM,CACJC,KAAMK,wBAAgBJ,SAAhB,CAA4B,KAD9B,CAEJK,QAAS,CACPN,KAAMO,+BAAuBN,SAAvB,CAAmC,SADlC,CAEPC,GAAIK,+BAAuBN,SAAvB,CAAmC,SAFhC,CAFL,CAMJC,GAAIX,wBAAgBU,SAAhB,CAA4B,KAN5B,CAHD,CAVT,EAuBD,C,OA5BoCV,uB,kBAAlBD,S","file":"user-model.js","sourcesContent":["import Model from \"objection\";\nimport {\n  AccessUserModel,\n  AccessSessionModel,\n  AccessRoleModel,\n  AccessRelUserRoleModel\n} from \"./access\";\n\nexport default class UserModel extends AccessUserModel {\n  /**\n   * @override\n   */\n  static get relationMappings() {\n    return {\n      ...AccessUserModel.relationMappings,\n      sessions: {\n        relation: Model.HasManyRelation,\n        modelClass: AccessSessionModel,\n        join: {\n          from: AccessUserModel.tableName + '.id',\n          to: AccessSessionModel.tableName + '.userId'\n        }\n      },\n      roles: {\n        relation: Model.ManyToManyRelation,\n        modelClass: AccessRoleModel,\n        join: {\n          from: AccessRoleModel.tableName + '.id',\n          through: {\n            from: AccessRelUserRoleModel.tableName + '.userId',\n            to: AccessRelUserRoleModel.tableName + '.roleId'\n          },\n          to: AccessUserModel.tableName + '.id'\n        }\n      }\n    };\n  }\n}"]}